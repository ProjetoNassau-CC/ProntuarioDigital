package dados;


import java.util.ArrayList;
import java.util.List;

import prontuario.Agenda;
import prontuario.Paciente;
import prontuario.RepositorioAgenda;
import prontuario.RepositorioPaciente;

public class RepositorioAgendaArrayList implements RepositorioAgenda{
	private List<Agenda> DadosAgenda; //
		
	public RepositorioAgendaArrayList() {		
		DadosAgenda = new ArrayList<Agenda>();
	}
	
	@Override
	public void inserir(Agenda agenda) {
		DadosAgenda.add((Agenda) agenda);
	}
	
	@Override
	public Agenda procurar(String cpf) {
		Agenda resultado = null;
		RepositorioPaciente repP = new RepositorioPacienteArrayList();
		for (Paciente pBuscaPaciente : ((RepositorioPacienteArrayList) repP).DadosPaciente()) {
			for (Agenda ProcurarAgenda : DadosAgenda) {
				if(pBuscaPaciente.getCpf().equals(cpf)) {
					if(pBuscaPaciente.getNome() == ProcurarAgenda.getNome_paciente()) {
					resultado = ProcurarAgenda;
					}
				}
			}
		}	
		return resultado;
	}

	@Override
	public void remover(String cpf) {			
		String mensagem = "\nNão foi possivel remover o usuario, CPF inexistente!";
		
		Agenda resultado = null;
		for(Agenda a : DadosAgenda) {
			if(a.getCpf().equals(cpf)) {				
				resultado = a;
			    mensagem = a.getNome_paciente() + " Foi Removido com Sucesso!";									
			}			
		}
		if(resultado != null) {
			DadosAgenda.remove(resultado);				
		} 					
		System.out.println(mensagem);	
	}
	
	public List<Agenda> DadosAgenda(){
		return this.DadosAgenda;
	}
}
